apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: worker-scaler
spec:
  scaleTargetRef:
    name: sonic-worker
  minReplicaCount: 0
  maxReplicaCount: 2
  triggers:
  - type: redis
    metadata:
      # FIX: Use the full DNS name so KEDA can find it from a different namespace
      address: redis-service.default.svc.cluster.local:6379
      listName: audio_jobs
      listLength: "2"
